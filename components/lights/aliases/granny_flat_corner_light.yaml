---
# The oversized light bulb style lamp hanging in the corner. 
# It uses an Insteon dimmable lamp plug.
#
platform: template
lights:
  granny_flat_corner_light:
    friendly_name: Granny Flat Corner Light
    value_template: "{{ is_state('light.3a7703', 'on') }}"
    level_template: >
      {% if is_state('light.3a7703', 'on') -%}
        {{ state_attr('light.3a7703', 'brightness')|int }}
      {%- else -%}
        0
      {%- endif %}
    set_level:
      service: light.turn_on
      data_template:
        entity_id: light.3a7703
        brightness: "{{ brightness }}"
    turn_on:
      service: light.turn_on
      data:
        entity_id: light.3a7703
    turn_off:
      service: light.turn_off
      data:
        entity_id: light.3a7703