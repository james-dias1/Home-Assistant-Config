---
platform: template
sensors:
  holiday:
    entity_id: sensor.date
    friendly_name: Holiday
    icon_template: mdi:calendar-today
    value_template: >
      {%- set sensors = ['sensor.date_easter', 'sensor.date_fathers', 'sensor.date_labor', 'sensor.date_memorial', 'sensor.date_mlk', 'sensor.date_mothers', 'sensor.date_presidents', 'sensor.date_thanksgiving'] %}
      {%- set special = [['4/4','Independance Day'], ['6/14','Flag Day'], ['9/17','Constitution Day']] -%}
      {%- set today = "%s/%s"|format(now().month, now().day)  -%}
      
      {%- set holiday_found = "false" -%}
      {%- for holiday in sensors -%}
        {%- set part = states(holiday).split('-') -%}
        {%- set holiday_date = "%s/%s"|format(part[1]|int, part[2]|int) -%}
        {%- if today == holiday_date -%}
          {{ state_attr(holiday, 'friendly_name') }}
        {%- endif -%}
      {%- endfor %}
      
      {%- for holiday in special -%}
        {%- if today == holiday[0] -%}
          {{ holiday[1] }}
        {%- endif -%}
      {%- endfor -%}
