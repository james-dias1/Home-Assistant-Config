---
platform: template
switches:
  lucas_ac_auto:
    unique_id: switch.lucas_ac_auto
    friendly_name: Lucas AC Automatic Mode
    icon_template: mdi:autorenew
    turn_on:
      - service: script.lucas_ac
        data:
          mode: "auto"
    turn_off:
      - alias: "Turn off only if power is on."
        choose:
          - conditions: '{{ is_state("binary_sensor.lucas_ac","on") }}'
            sequence:
              - service: script.lucas_ac
                data:
                  mode: "off"
