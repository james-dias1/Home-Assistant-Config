---
platform: template
switches:
  circadian_lighting:
    friendly_name: "Circadian Lighting"
    icon_template: mdi:weather-sunset
    value_template: "{{ is_state('switch.circadian_lighting_all','on')
                      or is_state('switch.circadian_lighting_holiday','on')}}"
    turn_on:
      - service: switch.turn_on
        data_template:
          entity_id: >-
            {% if states('sensor.holiday_scene')|length > 0 %}
              switch.circadian_lighting_holiday
            {% else %}
              switch.circadian_lighting_all
            {% endif %}
    turn_off:
      - service: switch.turn_off
        data_template:
          entity_id: >-
            {% if states('sensor.holiday_scene')|length > 0 %}
              switch.circadian_lighting_holiday
            {% else %}
              switch.circadian_lighting_all
            {% endif %}
