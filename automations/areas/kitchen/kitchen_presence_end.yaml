---
##############################################
###  Kitchen
##############################################
# Kitchen Presence: Light Timeout
alias: Kitchen Presence End
id: kitchen_presence_end
initial_state: true
mode: single
trigger:
  # - platform: template
  #   value_template: "{% if is_state('binary_sensor.kitchen_1_presence', 'off')
  #                     and is_state('binary_sensor.kitchen_2_presence', 'off') %}true{% else %}false{% endif %}"
  # If both motion sensor returns to off.
  - platform: state
    entity_id:
      - binary_sensor.kitchen_1_presence
      - binary_sensor.kitchen_2_presence
    from: "on"
    to: "off"
condition:
  # Only continue if both motions sensors are off.
  - condition: state
    entity_id:
      - binary_sensor.kitchen_1_presence
      - binary_sensor.kitchen_2_presence
    state: "off"
    # for:
    #   minutes: 2
    #   seconds: 00
action:
  - service: light.turn_off
    entity_id: light.kitchen_cabinet
