---
alias: watchdog_front_door_unlocked
initial_state: true
trigger:
  - platform: state
    entity_id: lock.front_door
    from: 'locked'
    to: 'unlocked'
condition:
  - condition: numeric_state
    entity_id: sensor.outside_illuminance
    below: 5000
action:
  # Store the current state of the porch + entry lights.
  - service: python_script.light_store
    data:
      store_name: front_door_locked_lights_state
      entity_id:
        - light.entry
        - light.porch

  # Full brightness!
  - service: light.turn_on
    entity_id:
      - light.entry
      - light.porch
    data:
      brightness: 255
