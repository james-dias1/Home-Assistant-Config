---
alias: front_door_unlocked_timer_restart
initial_state: true
# When the front door is opened, restart the timer.
trigger:
  - platform: state
    entity_id: binary_sensor.front_door
    from: "off"
    to: "on"
condition:
  # Guest mode overrides automatic door locking.
  - condition: state
    entity_id: input_boolean.guest_mode
    state: "off"
action:
  - service: timer.cancel
    data_template:
      entity_id: timer.front_door_unlocked

  - service: timer.start
    data_template:
      entity_id: timer.front_door_unlocked
