---
##############################################
###  Porch
##############################################
# Porch Motion: Timeout
alias: porch_motion_stop
initial_state: true
trigger:
  - platform: state
    entity_id: binary_sensor.front_door_motion
    from: 'on'
    to: 'off'
    # for:
    #   minutes: 2
    #   seconds: 00
condition:
  - condition: state
    entity_id: input_boolean.motion_detection_mode
    state: 'on'
  - condition: numeric_state
    entity_id: sensor.outside_illuminance
    below: 5000
action:
  # Restore the previous state of the porch light.
  - service: python_script.light_store
    data:
      store_name: porch_light_state
      operation: restore
