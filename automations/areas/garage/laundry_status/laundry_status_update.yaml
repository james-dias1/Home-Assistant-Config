---
alias: Laundry Status
id: laundry_status
initial_state: true
trigger:
  - platform: state
    entity_id: input_select.washer_status
  - platform: state
    entity_id: input_select.dryer_status
variables:
  washer_status: '{{ states("input_select.washer_status") }}'
  dryer_status: '{{ states("input_select.dryer_status") }}'

  status: |
    {% if washer_status == "Off" and dryer_status == "Off" %}
      "Off"
    {%- elif washer_status == "Washing" %}
      Washing
    {%- elif dryer_status == "Drying" and washer_status != "Washing" %}
      Drying
    {%- elif washer_status == "Clean" and dryer_status == "Drying" %}
      Waiting for running dryer
    {%- elif  washer_status == "Clean" and dryer_status in ["Dry","Off"] %}
      Please transfer to dryer
    {%- elif washer_status == "Clean" and dryer_status == "Dry" %}
      Dry
    {%- else %}
      Unknown
    {%- endif %}
action:
  service: input_select.select_option
  data:
    entity_id: input_select.laundry_status
    option: '{{ status }}'
