---
# Make sure light doesn't stay on after garage is closed
alias: watchdog_garage_entry_light_timeout
initial_state: true
trigger:
  platform: time_pattern
  minutes: '/05'
condition:
  - condition: state
    entity_id: cover.garage_door
    state:     'closed'
action:
  # Turn off the garage entry light notification.
  - service: light.turn_off
    entity_id: light.garage_entry
  - service: light.turn_off
    entity_id: light.dining_room

  # Restore the previous state of the dining room lights.
  - service: python_script.light_store
    data:
      store_name: dining_room_light_state
      operation: restore
