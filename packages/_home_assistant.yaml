homeassistant:
  customize:
    # Attempting to influence panel layout order.
    group.panel_downstairs_lights:
      order: 1
    group.panel_downstairs_devices:
      order: 2
    group.panel_upstairs:
      order: 3
    group.panel_outside:
      order: 4
    group.panel_control:
      order: 5
    group.panel_admin:
      order: 6

  customize_glob:
    # Hides UI Panels from smart hubs.
    "group.panel_*":
      hidden: false
      alexa_hidden: true
      emulated_hue_hidden: true
      homebridge_hidden: true
      customize_glob:

################################################
## Component Settings
################################################
# Enables configuration UI
config:

customizer:
  # Custom UI: https://github.com/andrey-git/home-assistant-custom-ui/
  custom_ui: hosted #debug #Only use (debug) for reporting readable Javascript errors!
  #hide_attributes:
  #  - node_id
  #  - value_index
  #columns: 350, 700, 1050, 1400, 1850, 2100

# Discover some devices automatically
discovery:
  enable:
    - homekit

# Common component used by Ring Camera and others
downloader:
  download_dir: /config/www/downloads #appears as /local/downlads on the website

frontend:
  # Custom UI: https://github.com/andrey-git/home-assistant-custom-ui/
  extra_html_url:
    - https://raw.githubusercontent.com/andrey-git/home-assistant-custom-ui/master/state-card-custom-ui.html
  extra_html_url_es5:
    - https://raw.githubusercontent.com/andrey-git/home-assistant-custom-ui/master/state-card-custom-ui-es5.html

history: !include /config/recorder.yaml

# View all events in a logbook
logbook: !include /config/logbook.yaml

logger:
  #default: info
  default: warning

recorder: !include /config/recorder.yaml

sun:

# Checks for available updates
# Note: This component will send some information about your system to
# the developers to assist with development of Home Assistant.
# For more information, please see:
# https://home-assistant.io/blog/2016/10/25/explaining-the-updater/
updater:
  # Optional, allows Home Assistant developers to focus on popular components.
  include_used_components: true

zeroconf:


################################################
## Sensors
################################################
sensor:
  - platform: time_date
    display_options:
      - 'time'
      - 'date'

  - platform: moon

#input_text:
#  dusk:
#    name: Time of Dusk

#########################################
## Automation
#########################################
automation:
  - alias: Home Assistant Startup Actions
    trigger:
      platform: homeassistant
      event: start
    action:
      - service: variable.set_variable
        data:
          variable: ha_laststartup
          value_template: "{{ as_timestamp(now()) }}"
      #- service: script.turn_on
      #  entity_id: script.mediaplayer_livingroom_showhide
      #- service: script.turn_on
      #  entity_id: script.mediaplayer_playroom_showhide
      #- service: input_text.set_value
      #  entity_id: input_text.dusk
      #  data:
      #    value_template: '{{ states.sun.sun.attributes.next_dusk }}'

  ## Set today's dusk time at midnight
  #- alias: Set Time of Dusk
  #  trigger:
  #    platform: time
  #    at: "00:00"
  #  action:
  #    - service: input_text.set_value
  #      entity_id: input_text.dusk
  #      data:
  #        value_template: '{{ states.sun.sun.attributes.next_dusk }}'

  - alias: Notify on Home Automation Updates
    trigger:
      platform: state
      entity_id: updater.updater
    action:
      - service: script.notify_ios_engine
        data_template:
          value1: "Home Assistant Update Available"
          value2: "{{ as_timestamp(now()) | timestamp_custom('%I:%M:%S %p %d %b %Y', true) }}"
          value3: ""
          who: "brian"
      - service: persistent_notification.create
        data:
          title: "Update Available"
          message: "Home Assistant {{ states('updater.updater') }} is available. - {{ as_timestamp(now()) | timestamp_custom('%I:%M:%S %p %d%b%Y', true) }}"