homeassistant:
  customize_glob:
    "*._watering*":
      hidden: true
      homebridge_hidden: true

  customize:
    #### Connectivity Sensors
    binary_sensor.aquatimer_control_unit_status:
      friendly_name: RainCloud (Base)
      device_class: connectivity
      #icon: mdi:server-network
    binary_sensor.side_yard_status:
      friendly_name: RainCloud (Remote)
      device_class: connectivity
      #icon: mdi:water-pump
    sensor.side_yard_battery:
      friendly_name: RainCloud (Battery)
      device_class: battery

    #### Watering Sensors
    binary_sensor.front_yard_watering:
      device_class: moisture
    binary_sensor.pool_filler_watering:
      device_class: moisture

    #### Watering Automatic/Manual Disable
    switch.front_yard_automatic_watering:
      can_cancel: true
      friendly_name: Schedule
    switch.front_yard_manual_watering:
      friendly_name: Activated
  
    switch.pool_filler_automatic_watering:
      can_cancel: false
      friendly_name: Schedule
    switch.pool_filler_manual_watering:
      friendly_name: Activated


################################################
## Component Settings
################################################
raincloud:
  username: !secret email1
  password: !secret raincloud_pass

################################################
## Sensors
################################################
binary_sensor:
  - platform: raincloud
    monitored_conditions:
      - is_watering
      - status

sensor:
  - platform: raincloud
    monitored_conditions:
      - battery
      - next_cycle
      - rain_delay
      - watering_time

  - platform: template
    sensors:
      front_yard_last_ran:
        value_template: "{{ states.binary_sensor.front_yard_watering.last_changed }}"
        friendly_name: Last Watered

  - platform: template
    sensors:
      pool_filler_last_ran:
        value_template: "{{ states.binary_sensor.pool_filler_watering.last_changed }}"
        friendly_name: Last Filled

################################################
## Switches
################################################
switch:
  - platform: raincloud
    watering_minutes: 10
    monitored_conditions:
      - auto_watering
      - manual_watering