homeassistant:
  customize:
    switch.sonoff:
      hidden: true

    ## Sonoff Basic
    ############################################
    binary_sensor.sonoff01:
      friendly_name: "Connection"
    binary_sensor.sonoff02:
      friendly_name: "Connection"

    ## Sonoff Dual
    ############################################
    # binary_sensor.sonoff_dual01:
    #   friendly_name: "Connection"

    ## Sonoff POW
    ############################################
    # sonoff_pow01
    binary_sensor.sonoff_pow01:
      friendly_name: "Connection"
    sensor.sonoff_pow01_energy:
      friendly_name: "Energy"
    sensor.sonoff_pow01_power:
      friendly_name: "Power"
    sensor.sonoff_pow01_power_mean:
      friendly_name: "Pwr Avg"
    sensor.sonoff_pow01_voltage:
      friendly_name: "Voltage"

    # sonoff_pow02
    binary_sensor.sonoff_pow02:
      friendly_name: "Connection"
    sensor.sonoff_pow02_energy:
      friendly_name: "Energy"
    sensor.sonoff_pow02_power:
      friendly_name: "Power"
    sensor.sonoff_pow02_power_mean:
      friendly_name: "Pwr Avg"
    sensor.sonoff_pow02_voltage:
      friendly_name: "Voltage"

    ## Sonoff S31
    ############################################
    # sonoffs31_01
    binary_sensor.sonoffs31_01:
      friendly_name: "Connection"
    sensor.sonoffs31_01_energy:
      friendly_name: "Energy"
    sensor.sonoffs31_01_power:
      friendly_name: "Power"
    sensor.sonoffs31_01_power_mean:
      friendly_name: "Pwr Avg"
    sensor.sonoffs31_01_voltage:
      friendly_name: "Voltage"

    # sonoffs31_pow02
    binary_sensor.sonoffs31_02:
      friendly_name: "Connection"
    sensor.sonoffs31_02_energy:
      friendly_name: "Energy"
    sensor.sonoffs31_02_power:
      friendly_name: "Power"
    sensor.sonoffs31_02_mean:
      friendly_name: "Pwr Avg"
    sensor.sonoffs31_02_voltage:
      friendly_name: "Voltage"

    # sonoffs31_pow03
    binary_sensor.sonoffs31_03:
      friendly_name: "Connection"
    sensor.sonoffs31_03_energy:
      friendly_name: "Energy"
    sensor.sonoffs31_03_power:
      friendly_name: "Power"
    sensor.sonoffs31_03_mean:
      friendly_name: "Pwr Avg"
    sensor.sonoffs31_03_voltage:
      friendly_name: "Voltage"

################################################
## Sensors
################################################
sensor:
  ## Sonoff POW
  ##############################################
  # sonoff_pow01
  - platform: mqtt
    name: "sonoff_pow01 energy"
    state_topic: "tele/sonoff_pow01/SENSOR"
    value_template: "{{ value_json.ENERGY.Today }}"
    unit_of_measurement: "kWh"
  - platform: mqtt
    name: "sonoff_pow01 power"
    state_topic: "tele/sonoff_pow01/SENSOR"
    value_template: "{{ value_json.ENERGY.Power }}"
    unit_of_measurement: "W"
  - platform: mqtt
    name: "sonoff_pow01 voltage"
    state_topic: "tele/sonoff_pow01/SENSOR"
    value_template: "{{ value_json.ENERGY.Voltage }}"
    unit_of_measurement: "V"
  - platform: statistics
    entity_id: sensor.sonoff_pow01_power
    name: "sonoff pow01 power"
    icon: mdi:chart-histogram

  # sonoff_pow02
  - platform: mqtt
    name: "sonoff_pow02 energy"
    state_topic: "tele/sonoff_pow02/SENSOR"
    value_template: "{{ value_json.ENERGY.Today }}"
    unit_of_measurement: "kWh"
  - platform: mqtt
    name: "sonoff_pow02 power"
    state_topic: "tele/sonoff_pow02/SENSOR"
    value_template: "{{ value_json.ENERGY.Power }}"
    unit_of_measurement: "W"
  - platform: mqtt
    name: "sonoff_pow02 voltage"
    state_topic: "tele/sonoff_pow02/SENSOR"
    value_template: "{{ value_json.ENERGY.Voltage }}"
    unit_of_measurement: "V"
  - platform: statistics
    entity_id: sensor.sonoff_pow02_power
    name: "sonoff pow02 power"
    icon: mdi:chart-histogram

  ## Sonoff S31
  ##############################################
  # sonoffs31_01
  - platform: mqtt
    name: "sonoffs31_01 energy"
    state_topic: "tele/sonoffs31_01/SENSOR"
    value_template: "{{ value_json.ENERGY.Today }}"
    unit_of_measurement: "kWh"
  - platform: mqtt
    name: "sonoffs31_01 power"
    state_topic: "tele/sonoffs31_01/SENSOR"
    value_template: "{{ value_json.ENERGY.Power }}"
    unit_of_measurement: "W"
  - platform: mqtt
    name: "sonoffs31_01 voltage"
    state_topic: "tele/sonoffs31_01/SENSOR"
    value_template: "{{ value_json.ENERGY.Voltage }}"
    unit_of_measurement: "V"
  #- platform: statistics
  #  entity_id: sensor.sonoffs31_01_power
  #  name: "sonoffs31 01 power"
  #  icon: mdi:chart-histogram

  # sonoffs31_02
  - platform: mqtt
    name: "sonoffs31_02 energy"
    state_topic: "tele/sonoffs31_02/SENSOR"
    value_template: "{{ value_json.ENERGY.Today }}"
    unit_of_measurement: "kWh"
  - platform: mqtt
    name: "sonoffs31_02 power"
    state_topic: "tele/sonoffs31_02/SENSOR"
    value_template: "{{ value_json.ENERGY.Power }}"
    unit_of_measurement: "W"
  - platform: mqtt
    name: "sonoffs31_02 voltage"
    state_topic: "tele/sonoffs31_02/SENSOR"
    value_template: "{{ value_json.ENERGY.Voltage }}"
    unit_of_measurement: "V"
  #- platform: statistics
  #  entity_id: sensor.sonoffs31_02_power
  #  name: "sonoffs31 02 power"
  #  icon: mdi:chart-histogram

  # sonoffs31_03
  - platform: mqtt
    name: "sonoffs31_03 energy"
    state_topic: "tele/sonoffs31_03/SENSOR"
    value_template: "{{ value_json.ENERGY.Today }}"
    unit_of_measurement: "kWh"
  - platform: mqtt
    name: "sonoffs31_03 power"
    state_topic: "tele/sonoffs31_03/SENSOR"
    value_template: "{{ value_json.ENERGY.Power }}"
    unit_of_measurement: "W"
  - platform: mqtt
    name: "sonoffs31_03 voltage"
    state_topic: "tele/sonoffs31_03/SENSOR"
    value_template: "{{ value_json.ENERGY.Voltage }}"
    unit_of_measurement: "V"
  #- platform: statistics
  #  entity_id: sensor.sonoffs31_03_power
  #  name: "sonoffs31 03 power"
  #  icon: mdi:chart-histogram

binary_sensor:
  ## Sonoff Basic
  ##############################################
  # sonoff01
  - platform: mqtt
    name: "sonoff01"
    state_topic: "tele/sonoff01/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  # sonoff02
  - platform: mqtt
    name: "sonoff02"
    state_topic: "tele/sonoff02/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  ## Sonoff Dual
  ##############################################
  # sonoff_dual01
  # - platform: mqtt
  #   name: "sonoff_dual01"
  #   state_topic: "tele/sonoff_dual01_1/LWT"
  #   value_template: "{{ value }}"
  #   payload_on: "Online"
  #   payload_off: "Offline"
  #   device_class: connectivity

  ## Sonoff POW
  ##############################################
  # sonoff_pow01
  - platform: mqtt
    name: "sonoff_pow01"
    state_topic: "tele/sonoff_pow01/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  # sonoff_pow02
  - platform: mqtt
    name: "sonoff_pow02"
    state_topic: "tele/sonoff_pow02/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  ## Sonoff S31s
  ##############################################
  # sonoffs31_01
  - platform: mqtt
    name: "sonoffs31_01"
    state_topic: "tele/sonoffs31_01/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  # sonoffs31_02
  - platform: mqtt
    name: "sonoffs31_02"
    state_topic: "tele/sonoffs31_02/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

  # sonoffs31_03
  - platform: mqtt
    name: "sonoffs31_03"
    state_topic: "tele/sonoffs31_03/LWT"
    value_template: "{{ value }}"
    payload_on: "Online"
    payload_off: "Offline"
    device_class: connectivity

################################################
## Switches
################################################
switch:
  ## Sonoff Basic
  ##############################################
  # sonoff01
  - platform: mqtt
    name: "Entry Step Light"
    state_topic: "stat/sonoff01/POWER"
    command_topic: "cmnd/sonoff01/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  # sonoff02
  - platform: mqtt
    name: "Family Room Fan"
    state_topic: "stat/sonoff02/POWER"
    command_topic: "cmnd/sonoff02/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true

  ## Sonoff Dual
  ##############################################
  # sonoff_dual01_1
  # - platform: mqtt
  #   name: "Laser Printer"
  #   state_topic: "stat/sonoff_dual01/POWER1"
  #   command_topic: "cmnd/sonoff_dual01/POWER1"
  #   qos: 1
  #   payload_on: "ON"
  #   payload_off: "OFF"
  #   retain: true
  # # sonoff_dual01_2
  # - platform: mqtt
  #   name: "Inkjet Printer"
  #   state_topic: "stat/sonoff_dual01/POWER2"
  #   command_topic: "cmnd/sonoff_dual01/POWER2"
  #   qos: 1
  #   payload_on: "ON"
  #   payload_off: "OFF"
  #   retain: true

  ## Sonoff POW
  ##############################################
  # sonoff_pow01
  - platform: mqtt
    name: "SonOff POW01"
    state_topic: "stat/sonoff_pow01/POWER"
    command_topic: "cmnd/sonoff_pow01/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  # sonoff_pow02
  - platform: mqtt
    name: "SonOff POW02"
    state_topic: "stat/sonoff_pow02/POWER"
    command_topic: "cmnd/sonoff_pow02/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true

  ## Sonoff S31
  ##############################################
  # sonoffs31_01
  - platform: mqtt
    name: "SonoffS31 01"
    state_topic: "stat/sonoffs31_01/POWER"
    command_topic: "cmnd/sonoffs31_01/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  # sonoffs31_02
  - platform: mqtt
    name: "Washer"
    state_topic: "stat/sonoffs31_02/POWER"
    command_topic: "cmnd/sonoffs31_02/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true
  # sonoffs31_03
  - platform: mqtt
    name: "Master Bedroom Fan"
    state_topic: "stat/sonoffs31_03/POWER"
    command_topic: "cmnd/sonoffs31_03/POWER"
    qos: 1
    payload_on: "ON"
    payload_off: "OFF"
    retain: true