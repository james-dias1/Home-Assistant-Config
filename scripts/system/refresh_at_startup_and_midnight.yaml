---
refresh_at_startup_and_midnight:
  alias: Refresh at Startup and Midnight
  sequence:
    # Update group.actionable_lights to replace group.all_lights.
    - service: script.create_actionable_lights_group

    # Reset family contribution switches (created as a workaround for the HassKit iOS app).
    - service: switch.turn_off
      entity_id:
        - switch.contribution_medicine_buddy_taken
        - switch.contribution_trash_to_curb
        - switch.contribution_kyle_clothes_sort
        - switch.contribution_kyle_clothes_wash
        - switch.contribution_kyle_dishes
        - switch.contribution_kyle_dookie
        - switch.contribution_kyle_other
        - switch.contribution_kyle_trash
        - switch.contribution_lucas_clothes_sort
        - switch.contribution_lucas_clothes_wash
        - switch.contribution_lucas_dishes
        - switch.contribution_lucas_dookie
        - switch.contribution_lucas_other
        - switch.contribution_lucas_trash

    # Update the holiday sensors.
    - delay:
        minutes: 1
    - service: script.holiday_sensors_update
