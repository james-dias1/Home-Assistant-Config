---
wakeup_nerene_light_start:
  sequence:
    # Disable bedroom light sync and time based dimmers temporarily.
  - service: input_boolean.turn_off
    entity_id: input_boolean.bedroom_light_sync_enabled
  - service: input_boolean.turn_off
    entity_id: input_boolean.time_based_dimmers_enabled


    # Start lights at ~20% and increment by ~10% every minute for 9 minutes.
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 50

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 75

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 100

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 125

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 150

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 175

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 200

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 225

    - delay: 00:01:00
    - condition: state
      entity_id: light.bedroom
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.bedroom
        brightness: 255

    - delay: 00:20:00
    - service: light.turn_off
      entity_id: light.bedroom

  # Re-enable bedroom light sync and time based dimmers temporarily.
  - service: input_boolean.turn_on
    entity_id: input_boolean.bedroom_light_sync_enabled
  - service: input_boolean.turn_on
    entity_id: input_boolean.time_based_dimmers_enabled
